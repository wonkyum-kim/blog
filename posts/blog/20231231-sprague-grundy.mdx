---
title: 스프라그-그런디 정리(Sprague-Grundy theorem)
date: 2023-12-31
description: 님 게임을 일반화 시키기
tags:
  - Algorithm
  - Game theory
---

## 스프라그-그런디 정리

`스프라그-그런디 정리`는 님 게임 전략을 일반화한 전략입니다.

각 상태는 하나의 `그런디 수(grundy number)`가 대응되며 `님 게임`에서의 돌의 개수와 대응되는 것입니다.

그런디 수는 다음과 같이 구하게 됩니다.

$G = mex(\{g_1, g_2, ..., g_n\})$

$g_1, g_2, ..., g_n$는 현재 상태에서 이동할 수 있는 상태의 그런디 수를 의미하며, `mex`는 이 집합에 속하지 않은 가장 작은 0 이상의 수를 구하는 함수입니다.

더 이상 이동할 수 없는 상태인 경우 그런디 수는 $mex(∅) = 0$이 됩니다.

## 그런디 게임

`그런디 게임`은 현재 움직임으로 인해, 서로 영향을 주지 않는 여러 부분 게임으로 나누어질 수 있는 게임을 말합니다.

예를 들어 [나누기 게임](https://www.acmicpc.net/problem/16886)이 있습니다.

그런디 수 $G = mex(\{g_1, g_2, ..., g_n\})$에서 n은 현재 상태에서 가능한 움직임의 수를 의미하고, $g_k$는 다음과 같이 정의합니다.

$
g_k = a_{k,1} ⊕ a_{k,2} ⊕ ... ⊕ a_{k,m}
$

즉, 움직임 k로 인해 부분 게임 m개로 나뉘고 각각의 그런디 수가 $a_{k,1} ⊕ a_{k,2} ⊕ ... ⊕ a_{k,m}$이 됨을 의미합니다.

예를 들어 위의 나누기 게임에서, n = 9일 때, 그런디 수는 $mex(\{g(4)⊕g(5), g(2)⊕g(3)⊕g(4)\})$이 됩니다.

그런디 수가 0이라면 후공이 이기고, 0이 아니라면 선공이 승리하게 됩니다.
