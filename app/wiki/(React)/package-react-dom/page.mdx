import { CodeSelector } from '@/components/code-selector.tsx'

# ğŸ“ ì‘ì„± ì¤‘...

## react-dom íŒ¨í‚¤ì§€

`react-dom` íŒ¨í‚¤ì§€ëŠ” DOMì˜ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ì—­í• ì„ í•˜ê³  Reactë¥¼ ìœ„í•œ ë Œë”ëŸ¬ë¥¼ ì œê³µí•œë‹¤.

í¬ê²Œ `react-dom`, `react-dom/client`, `react-dom/server`ë¡œ êµ¬ë¶„ëœë‹¤.

## react-dom

### \_\_DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE

êµ¬í˜„ì²´: https://github.com/facebook/react/blob/main/packages/react-dom/src/ReactDOMSharedInternals.js

react-dom íŒ¨í‚¤ì§€ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê°ì²´ë‹¤.

ë‚´ë¶€ ì½”ë“œì—ì„œëŠ” `ReactDOMSharedInternals`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤.

### createPortal

êµ¬í˜„ì²´: [src/shared/ReactDOM.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOM.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/createPortal

`createPortal`ì€ DOMì˜ ë‹¤ë¥¸ ë¶€ë¶„ì— childrenì„ ë Œë”ë§í•˜ë„ë¡ í•´ì¤€ë‹¤.

ì£¼ë¡œ modalì„ ë§Œë“¤ê±°ë‚˜ Reactë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šì€ ë¶€ë¶„ì— React ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©ëœë‹¤.

ì´ê²ƒì˜ êµ¬í˜„ì€ react-domì´ ì•„ë‹ˆë¼ react-concilerì— ìˆë‹¤.

ê·¸ë˜ë„ ì ê¹ë§Œ êµ¬í˜„ì„ ì‚´í´ë³´ê³  ì˜¤ë©´, ê·¸ì € ì£¼ì–´ì§„ ì •ë³´ì— ë§ëŠ” React ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë°˜í™˜í•˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### flushSync

êµ¬í˜„ì²´: [src/shared/ReactDOMFlushSync.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFlushSync.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/flushSync

`flushSync`ëŠ” Reactê°€ ì œê³µëœ ì½œë°± ë‚´ë¶€ì˜ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ë™ê¸°ì‹ìœ¼ë¡œ í”ŒëŸ¬ì‹œí•˜ë„ë¡ í•œë‹¤.

ì¦‰, DOMì´ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤.

<CodeSelector names={['jsx']} desc='ex1' />

```jsx
flushSync(() => {
  setState('hi')
})

// ë‹¤ìŒ ì¤„ ë¶€í„° DOMì´ ì—…ë°ì´íŠ¸ ë˜ì—ˆìŒì´ ë³´ì¥ëœë‹¤.
```

flushSyncëŠ” í¼í¬ë¨¼ìŠ¤ì— ì•ˆì¢‹ì€ ì˜í–¥ì„ ë¼ì¹  ìˆ˜ ìˆì§€ë§Œ, ë¸Œë¼ìš°ì € APIì™€ ê°™ì€ ì„œë“œ íŒŒí‹°ì™€ Reactë¥¼ ê°™ì´ ì¨ì•¼í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `View Transition API`ì—ì„œ ê°™ì´ ì‚¬ìš©í•˜ë©´ ì¢‹ë‹¤.

êµ¬í˜„ì„ ì‚´í´ë³´ë©´ ë‚´ë¶€ ê°ì²´ì™€ react-concilerê°€ ë“±ì¥í•˜ê¸°ì— ì§€ê¸ˆì€ ìì„¸íˆ ì•Œ ìˆ˜ ì—†ì§€ë§Œ, ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì„ í†µí•´ êµ¬í˜„ì´ ì´ë£¨ì–´ì§€ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### prefetchDNS

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/prefetchDNS

DNSë¥¼ ì¡°íšŒí•˜ì—¬ IP ì£¼ì†Œë¥¼ ë¯¸ë¦¬ ì–»ë„ë¡ í•˜ëŠ” ë°©ë²•

ë¦¬ì†ŒìŠ¤ ìš”ì²­ ì „ DNS ì¡°íšŒ ì‹œê°„ ë‹¨ì¶•í•  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

### preconnect

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/preconnect

DNS ì¡°íšŒ ì™¸ì—ë„ TCP í•¸ë“œì…°ì´í¬ì™€ TLS ë„¤ê³ ì‹œì—ì´ì…˜ê¹Œì§€ ë¯¸ë¦¬ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•

ë¦¬ì†ŒìŠ¤ ìš”ì²­ ì „ ëª¨ë“  ì´ˆê¸° ì—°ê²° ì„¤ì • ì‘ì—… ì™„ë£Œí•  ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.

### preload

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/preload

í˜„ì¬ í˜ì´ì§€ ë Œë”ë§ì— í•„ìš”í•œ ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ëŠ” ë°©ë²•.

í˜ì´ì§€ ë¡œë“œ ì¤‘ ë°˜ë“œì‹œ í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•  ë•Œ ì‚¬ìš©í•œë‹¤.

### preloadModule

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/preloadModule

ì™¸ë¶€ ìŠ¤í¬ë¦½íŠ¸ ì¤‘ ESM moduleì„ ë¯¸ë¦¬ ë¡œë”©(preload)í•˜ëŠ” ë°©ë²•.

preloadì˜ ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.

### preinit

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/preinit

preloadëŠ” ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒê¹Œì§€ë§Œ í•˜ì§€ë§Œ, preinitì€ ì‹¤í–‰ê¹Œì§€ í•œë‹¤.

### preinitModule

êµ¬í˜„ì²´: [src/shared/ReactDOMFloat.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/shared/ReactDOMFloat.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/preinitModule

preinitê³¼ ë¹„ìŠ·í•˜ì§€ë§Œ, ìŠ¤í¬ë¦½íŠ¸ê°€ ESMì¸ ê²½ìš° ì‚¬ìš©í•œë‹¤.

### requestFormReset

ë¬¸ì„œë„ ì•„ì§ ì—†ê³  êµ¬í˜„ì€ `react-dom-bindings` íŒ¨í‚¤ì§€ì— ìˆë‹¤.

https://19.react.dev/blog/2024/04/25/react-19#form-actions ì— ë”°ë¥´ë©´ `<form>`ì„ ìˆ˜ë™ìœ¼ë¡œ ì´ˆê¸°í™” ì‹œí‚¤ëŠ” APIë¼ê³  í•œë‹¤.

ìì„¸í•œ ê²ƒì€ ë¬¸ì„œê°€ ë‚˜ì™€ì•¼ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

### useFormStatus

êµ¬í˜„ì²´: [react-dom-bindings/src/shared/ReactDOMFormActions.js](https://github.com/facebook/react/blob/main/packages/react-dom-bindings/src/shared/ReactDOMFormActions.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/hooks/useFormStatus

react íŒ¨í‚¤ì§€ì˜ í›…ë„ ë§ˆì°¬ê°€ì§€ì˜€ì§€ë§Œ, ìì„¸í•œ êµ¬í˜„ì€ dispatchì— ìˆê¸° ë•Œë¬¸ì— í˜„ì¬ëŠ” ì•Œ ìˆ˜ ì—†ì–´ì„œ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ë§Œ ì‚´í´ë³¸ë‹¤.

`useFormStatus`ëŠ” ì§€ë‚œ form ì œì¶œì˜ ìƒíƒœ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” í›…ì´ë‹¤.

ë°˜ë“œì‹œ `<form>`ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§í•˜ëŠ” ë‹¤ë¥¸ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ íŠ¹ì´í•˜ë‹¤.

## react-dom/client

### createRoot

êµ¬í˜„ì²´: [src/client/ReactDOMRoot.js](https://github.com/facebook/react/blob/main/packages/react-dom/src/client/ReactDOMRoot.js)

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/client/createRoot

ë¸Œë¼ìš°ì € DOM ì—˜ë¦¬ë¨¼íŠ¸ ì•ˆì— ë‚´ìš©ì„ í‘œì‹œí•˜ê¸° ìœ„í•´ì„œ React ë£¨íŠ¸ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë‹¤.

<CodeSelector names={['index.js', 'index.html']} desc='ex2' />

```jsx
import { createRoot } from 'react-dom/client'
import App from './App.js'
import './styles.css'

const root = createRoot(document.getElementById('root'))
root.render(<App />)
```

```html
<!doctype html>
<html>
  <head>
    <title>My app</title>
  </head>
  <body>
    <!-- This is the DOM node -->
    <div id="root"></div>
  </body>
</html>
```

`createRoot`ì˜ êµ¬í˜„ì„ ë³´ë©´ react-reconcilerì™€ react-dom-bindings íŒ¨í‚¤ì§€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´ì„œ ì§€ê¸ˆ ìì„¸íˆ ì‚´í´ë³´ê¸°ëŠ” ì–´ë µë‹¤.

### hydrateRoot

êµ¬í˜„ì²´:

ë¬¸ì„œ: https://19.react.dev/reference/react-dom/client/hydrateRoot

## react-dom/server

TODO
