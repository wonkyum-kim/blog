import { CodeSelector } from '@/components/code-selector.tsx'

## package.json

`package.json`은 다음과 같이 만들 수 있다.

<CodeSelector names={['shell']} desc='ex1' />

```shell
npm init -y
```

npm, Node.js, bundler에서 요구하는 필드가 서로 다르기 때문에 다 살펴봐야 한다.

## npm

TODO

| 항목                 | 설명                                                                                  |
| -------------------- | ------------------------------------------------------------------------------------- |
| name                 | 패키지 이름                                                                           |
| version              | 패키지 버전 (아래에서 시맨틱 버전을 설명한다.)                                        |
| description          | 패키지 설명                                                                           |
| keywords             | `npm search`로 패키지를 찾을 때 사용한다. 배열로 전달 가능                            |
| homepage             | 프로젝트 홈페이지 URL                                                                 |
| bugs                 | 버그를 제보할 이슈 트래커나 이메일 주소                                               |
| license              | 라이선스 정보                                                                         |
| author, contributors | 저자, 기여자의 정보                                                                   |
| files                | 배포할 패키지에 포함될 파일들. 배열로 전달한다.                                       |
| main                 | 프로그램의 진입 점이 되는 파일을 명시한다.                                            |
| browser              | Node.js가 아니라 클라이언트 사이드에서 실행되는 모듈이라면 `main` 대신 사용하면 된다. |
| bin                  | 패키지에 실행 파일이 있는 경우 지정. npx 명령어를 사용하면 실행된다.                  |
| man                  | man 명령어에서 사용할 수 있는 파일 정보 기입                                          |
| repository           | 레포지토리 주소                                                                       |
| scripts              | `npm run ...`으로 실행가능한 스크립트 정보                                            |
| config               | 패키지의 스크립트에서 사용할 환경 변수                                                |
| dependencies         | 의존성 패키지명과 버전                                                                |
| devDependencies      | 개발 시 필요한 의존성 패키지명과 버전                                                 |
| peerDependencies     | 플러그인의 경우 호환성을 위해 호스트의 버전을 명시할 수 있다.                         |
| bundledDependencies  | 패키지를 배포할 때 번들링되는 패키지 이름의 목록                                      |
| optionalDependencies | 설치가 실패해도 npm 설치가 중단되지 않도록 하는 패키지들                              |
| engines              | 동작 가능한 node 버전 지정                                                            |
| os                   | 어떤 운영체제에서 동작하는지 지정                                                     |
| private              | true로 설정 시 publish 명령 거부                                                      |
| publishConfig        | 패키지를 배포(publish) 할 때 몇가지 설정들을 오버라이드 할 수 있다                    |
| access               | NPM에 패키지를 공개할지 공개하지 않을지 결정하는 필드                                 |

## Node.js

TODO

`"type"` 필드는 Node.js가 .js 파일을 어떻게 해석해야 하는지를 정의한다.

정의하지 않으면 CJS로 해석되고, "module"로 설정하면 ESM으로 해석된다.

엔트리 포인트뿐만 아니라 import로 참조하는 모든 파일들도 같은 방식으로 해석된다.

엔트리 포인트는 `"main"`과 `"exports"`로 정의할 수 있다.

"main"은 패키지의 메인 엔트리 포인트만 정의할 수 있다.

"exports"는 "main"의 대안으로 다양한 엔트리 포인트를 정의하고, 환경에 따라 조건적으로 다른 엔트리 포인트를 지원한다.

또한 subpath exports도 지원한다.

`"imports"`라는 것도 있는데, 이것도 exports랑 비슷하지만 외부로 드러내 보이고 싶지 않은 내부 모듈에 대해서 적용하는 것 같다.

## bundler

TODO

- sideEffects: false로 설정하면 번들러에게 사이드 이펙트가 발생하지 않으니 tree shaking을 진행하라는 의미다.

## References

- https://docs.npmjs.com/cli/v10/configuring-npm/package-json
- https://nodejs.org/api/packages.html
