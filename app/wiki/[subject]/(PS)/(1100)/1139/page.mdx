import { CodeSelector } from '@/components/code-selector.tsx'

## 울타리

전형적인 [bitfield](/wiki/Algorithm/bitfield)를 이용한 다이나믹 프로그래밍 문제였다.

<CodeSelector names={['1139.js']} desc='ex1' />

```js showLineNumbers
function triangle(a, b, c) {
  const p = (a + b + c) / 2
  return Math.sqrt(p * (p - a) * (p - b) * (p - c))
}

function dfs(state, v, dp) {
  if (dp[state] !== -1) return dp[mask]
  dp[state] = 0

  for (let i = 0; i < v.length; ++i) {
    if (state & (1 << i)) continue
    for (let j = i + 1; j < v.length; ++j) {
      if (state & (1 << j)) continue
      for (let k = j + 1; k < v.length; ++k) {
        if (state & (1 << k)) continue
        if (v[i] + v[j] <= v[k]) continue
        const area = triangle(v[i], v[j], v[k])
        dp[state] = Math.max(dp[state], area + dfs(state | (1 << i) | (1 << j) | (1 << k), v, dp))
      }
    }
  }

  return dp[state]
}

function solve() {
  const n = input.getNumber
  const v = new Array(n)
    .fill(0)
    .map(() => input.getNumber)
    .sort((a, b) => a - b)
  const dp = new Array(1 << n).fill(-1)
  console.log(dfs(0, v, dp).toPrecision(10))
}

solve()
```
