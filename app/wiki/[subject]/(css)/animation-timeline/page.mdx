import { CodeSelector } from '@/components/code-selector.tsx'

## scroll progress timeline

스크롤 가능한 엘리먼트(scroller)가 스크롤 하면 애니메이션이 진행된다.

### scroll-timeline-name

scroller에 `scroll-timeline-name` 프로퍼티를 지정하고, 애니메이션이 진행될 엘리먼트에 `animation-timeline` 프로퍼티로 연결하는 방식.

그런데, 뒤에 나올 `scroll()`이 더 쉽고 간편하기 때문에 생략한다.

### scroll()

scroller에 `scroll-timeline-name` 프로퍼티를 지정하지 않고, `scroll()`을 사용하여 가장 가까운 부모 엘리먼트의 스크롤에 따라 애니메이션을 적용시킬 수 있다.

지금 이 글에도 상단에 scroll()을 사용한 프로그레스바가 적용되어 있다.

<CodeSelector names={['css']} desc='scroll' />

```css {12} showLineNumbers
@keyframes adjust-progressbar {
  from {
    transform: scaleX(0);
  }
  to {
    transform: scaleX(1);
  }
}

.progressbar {
  animation: adjust-progressbar linear;
  animation-timeline: scroll(block root);
  animation-duration: auto;
  transform-origin: 0 50%;
  background-color: red;
  width: 100%;
  height: 1rem;
  position: fixed;
  left: 0;
  top: 0;
}
```

## view progress timeline

엘리먼트(subject)의 visibility가 변함에 따라서 애니메이션을 적용시킬 수 있다.

### view-timeline-name

subject에 `view-timeline-name` 프로퍼티를 지정하면, 뷰포트에 보이기 시작하는 지점부터 애니메이션이 시작되고, 전부 보이는 시점에서 애니메이션이 마무리된다.

마찬가지로 `view()`가 더 간편하기 때문에 생략

### view()

subject에 `view-timeline-name`을 지정하지 않고 `view()`를 사용해도 같은 결과가 나온다.

<CodeSelector names={['css']} desc='view' />

```css {2} showLineNumbers
.animation {
  animation-timeline: view();
  animation-name: appear;
  animation-fill-mode: both;
  animation-duration: 1ms; /* Firefox requires this to apply the animation */
}
```

## References

- [animation-timeline](https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timeline)
